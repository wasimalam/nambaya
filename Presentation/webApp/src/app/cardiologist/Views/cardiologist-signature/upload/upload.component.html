<div class="sample-wrapper">
  <section class="sample-content">
    <article class="sample-column">
      <app-loader [isLoading]="isLoading"></app-loader>
      <!--<form class="input-group-form" (ngSubmit)="createNewDoctor()" [formGroup]="doctorCreateForm">-->
      <div class="main-heading">
        <h4 class="sample-title" translate><span (click)="goBack()" class="icon-previous"></span> manage_signature</h4>
      </div>
      <div class="column-holder">
        <app-cardiologist-signature></app-cardiologist-signature>
        <div class="columns row" style="margin-top: 30px; margin-left: 0;">
          <div class="col-lg-6" style="padding-left: 0;">
            <div class="center upload-holder">
              <span class="icon-cloud-upload"></span>
              <span translate>drop_signature_image</span>
              <ngx-file-drop
                dropZoneLabel="Drop files here"
                (onFileDrop)="dropped($event)"
                (onFileOver)="fileOver($event)"
                (onFileLeave)="fileLeave($event)"
                [multiple]="false"
              >
                <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
                  <button class="btn-primary" igxButton="raised" igxRipple (click)="openFileSelector()" translate>
                    <i class="fas fa-file"></i> Select File
                  </button>
                </ng-template>
              </ngx-file-drop>
            </div>
            <div class="igx-input-group igx-input-group--comfortable">
              <div class="igx-input-group__hint">
                <igx-hint position="start">{{ 'allowed_signature_extensions' | translate }}</igx-hint>
              </div>
            </div>
            <div *ngIf="fileToUpload != null" class="upload-table" style="margin-top: 15px">
              <div class="box" *ngIf="fileToUpload != null">
                {{ files[0].relativePath }}
              </div>

              <div class="box" style="margin-top: 20px;">
                <button
                  (click)="generateSigImgUploadVerificationOtp()"
                  igxButton="raised"
                  style="color: white;margin-right: 5px;"
                  [disabled]="disableButtons"
                  translate
                  igxButton="raised"
                  style="color: white;margin-right: 5px;"
                >
                  <i class="fas fa-spinner fa-spin" *ngIf="disableButtons"></i>
                  <i class="fas fa-envelope"></i>&nbsp; request_otp
                </button>
                <button translate igxButton="outlined" (click)="cancelUpload()" [disabled]="disableButtons">
                  <i class="fas fa-times"></i>&nbsp; Cancel
                </button>
              </div>
              <div class="igx-input-group igx-input-group--comfortable">
                <div class="igx-input-group__hint">
                  <igx-hint position="start">{{ 'upload_signature_image_info' | translate }}</igx-hint>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="uploading" class="commen-wrapper">
          <div class="linear-container">
            <igx-linear-bar [striped]="false" [max]="100" [value]="progress" type="danger"></igx-linear-bar>
          </div>
        </div>
        <div *ngIf="saving"><i class="fas fa-spinner fa-spin"></i> {{ 'encrypting_and_saving' | translate }}</div>
      </div>
    </article>
  </section>
</div>
<igx-dialog
    #uploadSigImgDialog
    leftButtonLabel="{{ 'Cancel' | translate }}"
    (onLeftButtonSelect)="uploadSigImgDialog.close()"
    (onRightButtonSelect)="uploadSigImgFile()"
    [rightButtonLabel]="'Upload' | translate"
    [closeOnOutsideSelect]="false"
>
  <div class="sample-wrapper dialog">
    <section class="sample-content">
      <article class="sample-column">
        <form class="input-group-form" [formGroup]="uploadSigImgForm">
          <div class="main-heading" style="padding-right: 250px;">
            <h4 style="margin-top: 15px" class="sample-title" translate>verify_and_upload</h4>
          </div>
          <div class="column-holder">
            <div class="columns row">
              <div class="col-lg-12">
                <div class="box textarea">
                  <igx-input-group>
                    <label igxLabel for="otp" translate>OTP</label>
                    <input type="text" id="otp" required igxInput name="otp" formControlName="otp" />
                    <igx-hint translate position="start" class="verify text-info">
                      otp_clarification_text_email
                    </igx-hint>
                  </igx-input-group>
                  <small
                    *ngIf="uploadSigImgForm.controls.otp.touched && uploadSigImgForm.controls.otp.errors?.required"
                    class="text-danger"
                    translate
                  >
                    required_otp
                  </small>
                </div>
              </div>
            </div>
          </div>
        </form>
      </article>
    </section>
  </div>
</igx-dialog>
